1.3 리팩터링 하기 전에 제대로 된 테스트부터 마련한다. 테스트는 반드시 자가진단하도록 만든다.
1.4 함수 추출하기
먼저 전체 동작을 각각의 부분으로 나눌 수 있는 지점을 찾는다. switch 문을 살펴보면 한번의 공연에 대한 요금을 계산하고 있다. 이런 정보는 휘발성이 높은 머릿속에 기록되므로 잊지 않으려면 재빨리 코드에 반영해야 한다. 그러면 다음번에 코드를 볼 때, 다시 분석하지 않아도 코드 스스로가 자신이 하는 일이 무엇인지를 이야기해줄 것이다. 
-먼저 별도 함수로 빼냈을 때 유효범위를 벗어나는 변수, 새 함수에서는 곧바로 사용할 수 없는 변수가 있는지 확인한다.
-추출한 새 함수에서도 필요하지만 값을 변경하지 않는 함수 -> 매개변수로 전달하면 된다.
-함수 안에서 값이 바뀌는 변수는 값을 반환하고 변수를 초기화 하는 코드도 넣는다.
-이렇게 수정하고 컴파일하고 테스트해서 실수한게 없는지 확인한다.
